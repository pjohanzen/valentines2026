<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíå A Special Invitation For You</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --pink: #ff6b8a;
    --deep-pink: #e84393;
    --blush: #ffeef2;
    --rose: #fd79a8;
    --cream: #fff5f7;
    --gold: #f9ca24;
  }

  body {
    font-family: 'Quicksand', sans-serif;
    background: var(--cream);
    overflow: hidden;
    height: 100vh; width: 100vw;
    user-select: none;
  }

  /* ‚îÄ‚îÄ Floating hearts ‚îÄ‚îÄ */
  .hearts-bg {
    position: fixed; inset: 0;
    pointer-events: none; z-index: 0; overflow: hidden;
  }
  .hearts-bg span {
    position: absolute; display: block; bottom: -60px;
    animation: floatUp linear infinite; opacity: 0.45;
  }
  @keyframes floatUp {
    0%   { transform: translateY(0) rotate(0deg); opacity: 0.45; }
    50%  { opacity: 0.65; }
    100% { transform: translateY(-115vh) rotate(540deg); opacity: 0; }
  }

  /* ‚îÄ‚îÄ Screens ‚îÄ‚îÄ */
  .screen {
    position: absolute; inset: 0;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    transition: opacity 0.7s ease, transform 0.7s ease;
    z-index: 1; padding: 24px;
  }
  .screen.hidden { opacity: 0; pointer-events: none; transform: scale(0.96); }

  /* ‚îÄ‚îÄ Welcome ‚îÄ‚îÄ */
  #welcome { background: linear-gradient(160deg, #fff0f3 0%, #ffd6e0 50%, #ffbcd1 100%); }

  .envelope {
    width: 200px; height: 150px; position: relative;
    cursor: pointer; margin-bottom: 28px;
    animation: wiggle 2s ease-in-out infinite;
  }
  @keyframes wiggle { 0%,100%{transform:rotate(-3deg)} 50%{transform:rotate(3deg)} }
  .envelope-body {
    width: 100%; height: 100%; background: #fff;
    border-radius: 10px; border: 3px solid var(--pink);
    box-shadow: 0 8px 30px rgba(232,67,147,0.18);
  }
  .envelope-flap {
    position: absolute; top: -1px; left: -3px; right: -3px; height: 75px;
    background: var(--pink);
    clip-path: polygon(0 0, 50% 100%, 100% 0);
    transition: transform 0.5s; transform-origin: top; z-index: 2;
  }
  .envelope:hover .envelope-flap { transform: rotateX(170deg); }
  .envelope-heart {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%,-50%); font-size: 44px;
    animation: pulse 1.1s ease-in-out infinite;
  }
  @keyframes pulse { 0%,100%{transform:translate(-50%,-50%) scale(1)} 50%{transform:translate(-50%,-50%) scale(1.18)} }

  .welcome-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(2rem,6vw,3.2rem);
    color: var(--deep-pink); text-align: center;
    margin-bottom: 8px;
    text-shadow: 0 2px 12px rgba(232,67,147,0.12);
  }
  .welcome-sub {
    font-size: clamp(0.9rem,2.5vw,1.05rem);
    color: #b56576; margin-bottom: 28px; text-align: center;
  }

  .btn {
    padding: 14px 42px; font-family: 'Quicksand', sans-serif;
    font-size: 1.05rem; font-weight: 600;
    border: none; border-radius: 50px; cursor: pointer;
    transition: all 0.3s;
  }
  .btn-pink {
    background: linear-gradient(135deg, var(--pink), var(--deep-pink));
    color: #fff; box-shadow: 0 4px 20px rgba(232,67,147,0.3);
  }
  .btn-pink:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 28px rgba(232,67,147,0.45);
  }

  /* ‚îÄ‚îÄ Game ‚îÄ‚îÄ */
  #game-screen {
    background: linear-gradient(160deg, #fff0f3 0%, #ffe4ec 50%, #f8d1e0 100%);
  }
  .game-top {
    display: flex; align-items: center; gap: 20px;
    margin-bottom: 12px;
  }
  .game-top .label {
    font-weight: 600; color: var(--deep-pink); font-size: 1.05rem;
    display: flex; align-items: center; gap: 5px;
  }
  .progress-bar {
    width: 180px; height: 14px; background: rgba(232,67,147,0.15);
    border-radius: 20px; overflow: hidden;
  }
  .progress-fill {
    height: 100%; width: 0%; border-radius: 20px;
    background: linear-gradient(90deg, var(--pink), var(--gold));
    transition: width 0.4s ease;
  }
  .game-hint {
    color: #c27a8e; font-size: clamp(0.8rem, 2.3vw, 0.92rem);
    margin-bottom: 10px; text-align: center;
  }
  #game-canvas {
    border-radius: 20px;
    max-width: 100%;
    touch-action: none;
    box-shadow: 0 10px 40px rgba(232,67,147,0.12);
  }

  /* ‚îÄ‚îÄ Reveal ‚îÄ‚îÄ */
  #reveal-screen {
    background: linear-gradient(160deg, #fff0f3 0%, #ffe0e8 30%, #f5d5f0 100%);
  }
  .reveal-card {
    background: #fff; border-radius: 26px;
    padding: clamp(28px,5vw,48px); max-width: 420px; width: 92%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(232,67,147,0.18);
    border: 2px solid rgba(232,67,147,0.12);
    animation: cardIn 0.9s ease;
    position: relative;
  }
  @keyframes cardIn {
    0%{opacity:0;transform:scale(0.7) rotate(-4deg)}
    70%{transform:scale(1.04) rotate(1deg)}
    100%{opacity:1;transform:scale(1) rotate(0)}
  }
  .reveal-card::before {
    content:'üíï'; position:absolute;
    top:-18px; left:50%; transform:translateX(-50%);
    font-size:2rem; animation: pulse 1.2s infinite;
  }
  .reveal-title {
    font-family:'Dancing Script',cursive;
    font-size: clamp(2rem,6vw,2.8rem);
    color: var(--deep-pink); margin-bottom: 14px; line-height: 1.2;
  }
  .reveal-msg {
    color: #6b5a6e; font-size: clamp(0.92rem,2.6vw,1.05rem);
    line-height: 1.65; margin-bottom: 24px;
  }
  .reveal-details {
    background: var(--blush); border-radius: 16px;
    padding: 18px; margin-bottom: 22px;
    border: 1px dashed var(--rose);
  }
  .reveal-details p { color: #b56576; font-size: 0.95rem; margin: 5px 0; }
  .reveal-details strong { color: var(--deep-pink); }
  .btn-group { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
  .btn-yes {
    background: linear-gradient(135deg, var(--pink), var(--deep-pink));
    color: #fff; box-shadow: 0 4px 20px rgba(232,67,147,0.3);
    animation: glowBtn 2s infinite;
  }
  @keyframes glowBtn {
    0%,100%{box-shadow:0 4px 20px rgba(232,67,147,0.3)}
    50%{box-shadow:0 4px 30px rgba(232,67,147,0.55)}
  }
  .btn-no { background: #f0e6f0; color: #9a7fa8; transition: all 0.3s; position: relative; }

  /* ‚îÄ‚îÄ Yay screen ‚îÄ‚îÄ */
  #yay-screen {
    background: linear-gradient(160deg, #ffe0e8 0%, #f5d5f0 50%, #ffeef2 100%);
  }
  .yay-emoji { font-size: clamp(4rem,14vw,6.5rem); margin-bottom: 16px; animation: pulseSimple 1s infinite; }
  @keyframes pulseSimple { 0%,100%{transform:scale(1)} 50%{transform:scale(1.15)} }
  .yay-title {
    font-family:'Dancing Script',cursive;
    font-size: clamp(2.2rem,7vw,3.2rem);
    color: var(--deep-pink); margin-bottom: 10px;
  }
  .yay-sub { color: #9a7fa8; font-size: clamp(1rem,3vw,1.2rem); }
  .yay-content { text-align: center; animation: cardIn 0.8s ease; }

  /* ‚îÄ‚îÄ Sparkles ‚îÄ‚îÄ */
  .sparkle {
    position: fixed; pointer-events: none; border-radius: 50%;
    animation: sparkFade 0.7s ease forwards; z-index: 999;
  }
  @keyframes sparkFade { 0%{transform:scale(1);opacity:1} 100%{transform:scale(0) translateY(-30px);opacity:0} }

  /* ‚îÄ‚îÄ Confetti ‚îÄ‚îÄ */
  .confetti {
    position: fixed; top: -12px; z-index: 998;
    animation: fall linear forwards;
  }
  @keyframes fall {
    0%{transform:translateY(0) rotate(0);opacity:1}
    100%{transform:translateY(110vh) rotate(600deg);opacity:0}
  }

  @media (max-width: 420px) {
    .progress-bar { width: 130px; }
  }
</style>
</head>
<body>

<div class="hearts-bg" id="heartsBg"></div>

<!-- ‚ïê‚ïê‚ïê Welcome ‚ïê‚ïê‚ïê -->
<div class="screen" id="welcome">
  <div class="envelope" onclick="goTo('game-screen')">
    <div class="envelope-flap"></div>
    <div class="envelope-body"><div class="envelope-heart">üíñ</div></div>
  </div>
  <h1 class="welcome-title">You Got a Secret Letter!</h1>
  <p class="welcome-sub">Catch some hearts to unlock it üíï</p>
  <button class="btn btn-pink" onclick="goTo('game-screen')">Let's Go!</button>
</div>

<!-- ‚ïê‚ïê‚ïê Heart Catch Game ‚ïê‚ïê‚ïê -->
<div class="screen hidden" id="game-screen">
  <div class="game-top">
    <span class="label">üíñ <span id="scoreNum">0</span> / 8</span>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
  </div>
  <p class="game-hint">Tap the falling hearts! ü©∑</p>
  <canvas id="game-canvas" width="340" height="460"></canvas>
</div>

<!-- ‚ïê‚ïê‚ïê Reveal ‚ïê‚ïê‚ïê -->
<div class="screen hidden" id="reveal-screen">
  <div class="reveal-card">
    <h1 class="reveal-title">Will You Be My Valentine?</h1>
    <p class="reveal-msg">
      You caught all the hearts ‚Äî<br>now will you let me catch yours? üåπ
    </p>
    <div class="reveal-details">
      <p>üìÖ <strong>February 14, 2026</strong></p>
      <p>üçΩÔ∏è <strong>Dinner Date & Movie Night</strong></p>
      <p>üëó <strong>Dress code: Cute & Cozy</strong></p>
    </div>
    <div class="btn-group">
      <button class="btn btn-yes" onclick="respond()">Yes! üíñ</button>
      <button class="btn btn-no" id="noBtn" onmouseenter="dodgeNo()" ontouchstart="dodgeNo(event)">No thanks‚Ä¶</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê Yay ‚ïê‚ïê‚ïê -->
<div class="screen hidden" id="yay-screen">
  <div class="yay-content">
    <div class="yay-emoji">ü•∞</div>
    <h1 class="yay-title">Yay! It's a Date!</h1>
    <p class="yay-sub">Can't wait to see you üíï‚ú®</p>
  </div>
</div>

<script>
/* ‚îÄ‚îÄ Background hearts ‚îÄ‚îÄ */
!function(){
  const c=document.getElementById('heartsBg');
  const h=['üíó','üíñ','üíï','üíì','ü©∑','‚ô•'];
  for(let i=0;i<28;i++){
    const s=document.createElement('span');
    s.textContent=h[Math.floor(Math.random()*h.length)];
    s.style.left=Math.random()*100+'%';
    s.style.fontSize=(20+Math.random()*22)+'px';
    s.style.animationDuration=(7+Math.random()*10)+'s';
    s.style.animationDelay=(Math.random()*10)+'s';
    c.appendChild(s);
  }
}();

/* ‚îÄ‚îÄ Sparkle on click ‚îÄ‚îÄ */
document.addEventListener('click',e=>{
  for(let i=0;i<5;i++){
    const s=document.createElement('div');
    s.className='sparkle';
    s.style.left=(e.clientX+(Math.random()-.5)*24)+'px';
    s.style.top=(e.clientY+(Math.random()-.5)*24)+'px';
    s.style.width=s.style.height=(4+Math.random()*5)+'px';
    s.style.background=['#ff6b8a','#f9ca24','#a29bfe','#fd79a8','#fff'][Math.floor(Math.random()*5)];
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),700);
  }
});

/* ‚îÄ‚îÄ Screen transition ‚îÄ‚îÄ */
function goTo(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
  if(id==='game-screen') startGame();
  if(id==='reveal-screen') confetti();
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   Heart Catch Mini-Game
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const GOAL=8;
let active=false, score=0, hearts=[], pops=[];

function startGame(){
  const cv=document.getElementById('game-canvas'), ctx=cv.getContext('2d');
  score=0; hearts=[]; pops=[]; active=true;
  updScore();

  const emojis=['‚ù§Ô∏è','‚ù§Ô∏è','‚ù§Ô∏è','‚ô•Ô∏è','üíò','‚ù£Ô∏è'];

  /* spawn */
  function spawn(){
    if(!active) return;
    hearts.push({
      x: 28+Math.random()*(cv.width-56),
      y: -28,
      sz: 26+Math.random()*10,
      sp: 1.2+Math.random()*1.3,
      e: emojis[Math.floor(Math.random()*emojis.length)],
      w: Math.random()*Math.PI*2,
      ws: 0.02+Math.random()*0.02
    });
    setTimeout(spawn, 450+Math.random()*500);
  }
  spawn();

  /* tap */
  function tap(ex,ey){
    if(!active) return;
    const r=cv.getBoundingClientRect();
    const sx=cv.width/r.width, sy=cv.height/r.height;
    const tx=(ex-r.left)*sx, ty=(ey-r.top)*sy;
    for(let i=hearts.length-1;i>=0;i--){
      const h=hearts[i];
      if(Math.hypot(tx-h.x,ty-h.y)<h.sz+14){
        score++; updScore();
        for(let j=0;j<7;j++) pops.push({
          x:h.x, y:h.y,
          vx:(Math.random()-.5)*5, vy:(Math.random()-.5)*5,
          l:25,
          c:['#ff6b8a','#f9ca24','#fd79a8','#a29bfe'][Math.floor(Math.random()*4)],
          s:3+Math.random()*3
        });
        hearts.splice(i,1);
        if(score>=GOAL){
          active=false;
          setTimeout(()=>goTo('reveal-screen'),700);
        }
        return;
      }
    }
  }
  cv.onclick=e=>tap(e.clientX,e.clientY);
  cv.ontouchstart=e=>{e.preventDefault();tap(e.touches[0].clientX,e.touches[0].clientY);};

  /* draw loop */
  function draw(){
    ctx.clearRect(0,0,cv.width,cv.height);

    /* soft background */
    const bg=ctx.createLinearGradient(0,0,0,cv.height);
    bg.addColorStop(0,'#fff5f7'); bg.addColorStop(1,'#ffe0e8');
    ctx.fillStyle=bg; ctx.fillRect(0,0,cv.width,cv.height);

    /* decorative dots */
    ctx.fillStyle='rgba(232,67,147,0.06)';
    for(let i=0;i<30;i++){
      ctx.beginPath();
      ctx.arc((i*113+17)%cv.width,(i*67+11)%cv.height,2+i%3,0,Math.PI*2);
      ctx.fill();
    }

    /* falling hearts */
    for(let i=hearts.length-1;i>=0;i--){
      const h=hearts[i];
      h.y+=h.sp; h.w+=h.ws;
      ctx.font=h.sz+'px serif';
      ctx.textAlign='center'; ctx.textBaseline='middle';
      ctx.fillText(h.e, h.x+Math.sin(h.w)*18, h.y);
      if(h.y>cv.height+40) hearts.splice(i,1);
    }

    /* burst particles */
    for(let i=pops.length-1;i>=0;i--){
      const p=pops[i];
      p.x+=p.vx; p.y+=p.vy; p.l--;
      ctx.globalAlpha=p.l/25;
      ctx.fillStyle=p.c;
      ctx.beginPath(); ctx.arc(p.x,p.y,p.s,0,Math.PI*2); ctx.fill();
      ctx.globalAlpha=1;
      if(p.l<=0) pops.splice(i,1);
    }

    if(active||pops.length) requestAnimationFrame(draw);
  }
  draw();
}

function updScore(){
  document.getElementById('scoreNum').textContent=score;
  document.getElementById('progressFill').style.width=(score/GOAL*100)+'%';
}

/* ‚ïê‚ïê‚ïê‚ïê Confetti ‚ïê‚ïê‚ïê‚ïê */
function confetti(){
  const cols=['#ff6b8a','#f9ca24','#a29bfe','#fd79a8','#55efc4','#ff7675'];
  for(let i=0;i<70;i++){
    const p=document.createElement('div');
    p.className='confetti';
    p.style.left=Math.random()*100+'%';
    p.style.background=cols[Math.floor(Math.random()*cols.length)];
    p.style.width=(6+Math.random()*7)+'px';
    p.style.height=(6+Math.random()*7)+'px';
    p.style.borderRadius=Math.random()>.5?'50%':'2px';
    p.style.animationDuration=(2.2+Math.random()*2.5)+'s';
    p.style.animationDelay=(Math.random()*1.2)+'s';
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),5500);
  }
}

/* ‚îÄ‚îÄ Dodge "No" button ‚îÄ‚îÄ */
let noCnt=0;
const noMsgs=["Are you sure? ü•∫","Please? üíï","Think again! üíó","Pretty please? üåπ","Okay fine‚Ä¶ Yes! üíñ"];
function dodgeNo(evt){
  if(evt) evt.preventDefault();
  noCnt++;
  const btn=document.getElementById('noBtn');
  if(noCnt>=5){
    btn.textContent='Okay‚Ä¶ Yes! üíñ';
    btn.onclick=respond;
    btn.onmouseenter=null; btn.ontouchstart=null;
    return;
  }
  btn.textContent=noMsgs[noCnt-1];
  const mx=50, my=40;
  btn.style.transform='translate('+(Math.random()-.5)*mx*2+'px,'+(Math.random()-.5)*my*2+'px)';
}

function respond(){
  goTo('yay-screen');
  confetti();
  setTimeout(confetti,1400);
}
</script>
</body>
</html>